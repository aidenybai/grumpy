Examples
Grumpy comes with this utility class known as Group. It extends JavaScript's native Map class, so it has all the features of Map and more! 

If you're not familiar with Map, read MDN's page on it before continuing. You should be familiar with Array methods as well. We will also be using some ES6 features, so read up here if you do not know what they are. 

In essence, Map allows for an association between unique keys and their values but lack an iterative interface. For example, how can you transform every value or filter the entries in a Map easily? This is the point of the Group class! 


Array-like Methods
Many of the methods on Group are based on their namesake in Array. One of them is find:


array.find(u => u.foo === 'bar');
group.find(u => u.foo === 'bar');
                    


The interface of the callback function is very similar between the two. For arrays, callbacks are usually passed the parameters (value, index, array), where value is the value it iterated to, index is the current index, and array is the array itself. For groups, you would have (value, key, group). Here, value is the same, but key is the key of the value, and the group is the group itself instead. 

Methods that follow this philosophy of staying close to the Array interface are as follows: 
find
filter - Note that this returns a Group rather than an Array.
map - Yet this returns an Array of values instead of a Group!
every
some
reduce
concat
sort

Converting to Array
There are two ways you might want to convert a Group into an Array. The first way is the array or keyArray methods. They simply create an array from the items in the group, but also caches it too:


group.array();
group.array(); // Not computed again the second time, it is cached!

group.keyArray();
group.keyArray(); // Not computed again the second time, it is cached!
                    

Many people use array way too much! This leads to unneeded caching of data and confusing code. Before you use array or similar, ask yourself if whatever you are trying to do can't be done with the given Map or Group methods or with a for-of loop. 

Extra Utilities
Some methods are not from Array and are instead completely new to standard JavaScript.


group.random(); // A random value. Be careful, this uses `array` so caching is done.

group.first(); // The first value.

group.first(5); // The first 5 values.

group.last(); // Similar to `first`, but from the end. This uses `array`.
group.last(2);

group.sift(user => user.foo === 'bar'); // Removes from the group anything that meets a criteria.
                    

A more complicated method is sift, which splits a collection into two, based on certain criteria. You can think of it as two filters, but done at the same time: 


const [foo, bar] = group.partition(user => user.baz);

foo.every(user => user.baz); // Both return true.
bar.every(user => !user.baz);
                    
 
