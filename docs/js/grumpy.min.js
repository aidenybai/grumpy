!function(r,t){"undefined"==typeof module?r.Grumpy=t():module.exports=t()}(this,function(){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(t)}function t(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=[],n=!0,o=!1,i=void 0;try{for(var a,u=r[Symbol.iterator]();!(n=(a=u.next()).done)&&(e.push(a.value),!t||e.length!==t);n=!0);}catch(r){o=!0,i=r}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return e}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function e(r){return function(r){if(Array.isArray(r)){for(var t=0,e=new Array(r.length);t<r.length;t++)e[t]=r[t];return e}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(r,t){if(e=r,!(null!=(n=t)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](e):e instanceof n))throw new TypeError("Cannot call a class as a function");var e,n}function o(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function i(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function a(r,t,e){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(r,t,e){var n=function(r,t){for(;!Object.prototype.hasOwnProperty.call(r,t)&&null!==(r=y(r)););return r}(r,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(e):o.value}})(r,t,e||r)}function u(r){var t="function"==typeof Map?new Map:void 0;return(u=function(r){if(null===r||(e=r,-1===Function.toString.call(e).indexOf("[native code]")))return r;var e;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return l(r,arguments,y(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,r)})(r)}function l(r,t,e){return(l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}()?Reflect.construct:function(r,t,e){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(r,n));return e&&f(o,e.prototype),o}).apply(null,arguments)}function f(r,t){return(f=Object.setPrototypeOf||function(r,t){return r.__proto__=t,r})(r,t)}function y(r){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}module.exports=function(l){function c(t){var e,o,a;return n(this,c),o=this,e=!(a=y(c).call(this,t))||"object"!==r(a)&&"function"!=typeof a?i(o):a,Object.defineProperty(i(e),"_array",{value:null,writable:!0,configurable:!0}),Object.defineProperty(i(e),"_keyArray",{value:null,writable:!0,configurable:!0}),e}var s,h,v;return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&f(r,t)}(c,u(Map)),s=c,(h=[{key:"set",value:function(r,t){if(this._array=null,this._keyArray=null,void 0===r)throw new Error("Parameter key not provided.");if(void 0===t)throw new Error("Parameter value not provided.");return a(y(c.prototype),"set",this).call(this,r,t)}},{key:"delete",value:function(r){if(this._array=null,this._keyArray=null,void 0===r)throw new Error("Parameter key not provided.");return a(y(c.prototype),"delete",this).call(this,r)}},{key:"array",value:function(){return this._array&&this._array.length===this.size||(this._array=e(this.values())),this._array}},{key:"keyArray",value:function(){return this._keyArray&&this._keyArray.length===this.size||(this._keyArray=e(this.keys())),this._keyArray}},{key:"first",value:function(r){if(void 0===r)return this.values().next().value;if(isNaN(r))throw new TypeError("The count must be a number.");if(!Number.isInteger(r)||r<1)throw new RangeError("The count must be an integer greater than 0.");r=Math.min(this.size,r);for(var t=new Array(r),e=this.values(),n=0;n<r;n++)t[n]=e.next().value;return t}},{key:"firstKey",value:function(r){if(void 0===r)return this.keys().next().value;if(isNaN(r))throw new TypeError("The count must be a number.");if(!Number.isInteger(r)||r<1)throw new RangeError("The count must be an integer greater than 0.");r=Math.min(this.size,r);for(var t=new Array(r),e=this.keys(),n=0;n<r;n++)t[n]=e.next().value;return t}},{key:"last",value:function(r){var t=this.array();if(void 0===r)return t[t.length-1];if(isNaN(r))throw new TypeError("The count must be a number.");if(!Number.isInteger(r)||r<1)throw new RangeError("The count must be an integer greater than 0.");return t.slice(-r)}},{key:"lastKey",value:function(r){var t=this.keyArray();if(void 0===r)return t[t.length-1];if(isNaN(r))throw new TypeError("The count must be a number.");if(!Number.isInteger(r)||r<1)throw new RangeError("The count must be an integer greater than 0.");return t.slice(-r)}},{key:"random",value:function(r){var t=this.array();if(void 0===r)return t[Math.floor(Math.random()*t.length)];if(isNaN(r))throw new TypeError("The count must be a number.");if(!Number.isInteger(r)||r<1)throw new RangeError("The count must be an integer greater than 0.");if(0===t.length)return[];var e=new Array(r);t=t.slice();for(var n=0;n<r;n++)e[n]=t.splice(Math.floor(Math.random()*t.length),1)[0];return e}},{key:"randomKey",value:function(r){var t=this.keyArray();if(void 0===r)return t[Math.floor(Math.random()*t.length)];if(isNaN(r))throw new TypeError("The count must be a number.");if(!Number.isInteger(r)||r<1)throw new RangeError("The count must be an integer greater than 0.");if(0===t.length)return[];var e=new Array(r);t=t.slice();for(var n=0;n<r;n++)e[n]=t.splice(Math.floor(Math.random()*t.length),1)[0];return e}},{key:"find",value:function(r,e){void 0!==e&&(r=r.bind(e));var n=!0,o=!1,i=void 0;try{for(var a,u=this[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=t(a.value,2),f=l[0],y=l[1];if(r(y,f,this))return y}}catch(r){o=!0,i=r}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}}},{key:"sift",value:function(r,e){e&&(r=r.bind(e));var n=this.size,o=!0,i=!1,a=void 0;try{for(var u,l=this[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=t(u.value,2),y=f[0];r(f[1],y,this)&&this.delete(y)}}catch(r){i=!0,a=r}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n-this.size}},{key:"filter",value:function(r,e){e&&(r=r.bind(e));var n=new c,o=!0,i=!1,a=void 0;try{for(var u,l=this[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=t(u.value,2),y=f[0],s=f[1];r(s,y,this)&&n.set(y,s)}}catch(r){i=!0,a=r}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n}},{key:"map",value:function(r,e){e&&(r=r.bind(e));var n=new Array(this.size),o=0,i=!0,a=!1,u=void 0;try{for(var l,f=this[Symbol.iterator]();!(i=(l=f.next()).done);i=!0){var y=t(l.value,2),c=y[0],s=y[1];n[o++]=r(s,c,this)}}catch(r){a=!0,u=r}finally{try{i||null==f.return||f.return()}finally{if(a)throw u}}return n}},{key:"mapValues",value:function(r,e){void 0!==e&&(r=r.bind(e));var n=new this.constructor[Symbol.species],o=!0,i=!1,a=void 0;try{for(var u,l=this[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=t(u.value,2),y=f[0],c=f[1];n.set(y,r(c,y,this))}}catch(r){i=!0,a=r}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n}},{key:"some",value:function(r,e){e&&(r=r.bind(e));var n=!0,o=!1,i=void 0;try{for(var a,u=this[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=t(a.value,2),f=l[0];if(r(l[1],f,this))return!0}}catch(r){o=!0,i=r}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return!1}},{key:"every",value:function(r,e){e&&(r=r.bind(e));var n=!0,o=!1,i=void 0;try{for(var a,u=this[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=t(a.value,2),f=l[0];if(!r(l[1],f,this))return!1}}catch(r){o=!0,i=r}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return!0}},{key:"reduce",value:function(r,e){var n;if(void 0!==e){n=e;var o=!0,i=!1,a=void 0;try{for(var u,l=this[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=t(u.value,2),y=f[0];n=r(n,m=f[1],y,this)}}catch(r){i=!0,a=r}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}else{var c=!0,s=!0,h=!1,v=void 0;try{for(var b,p=this[Symbol.iterator]();!(s=(b=p.next()).done);s=!0){var d=t(b.value,2),m=(y=d[0],d[1]);c?(n=m,c=!1):n=r(n,m,y,this)}}catch(r){h=!0,v=r}finally{try{s||null==p.return||p.return()}finally{if(h)throw v}}}return n}},{key:"each",value:function(r,t){return this.forEach(r,t),this}},{key:"clone",value:function(){return new this.constructor(this)}},{key:"concat",value:function(){for(var r=this.clone(),e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];for(var i=0,a=n;i<a.length;i++){var u=a[i],l=!0,f=!1,y=void 0;try{for(var c,s=u[Symbol.iterator]();!(l=(c=s.next()).done);l=!0){var h=t(c.value,2),v=h[0],b=h[1];r.set(v,b)}}catch(r){f=!0,y=r}finally{try{l||null==s.return||s.return()}finally{if(f)throw y}}}return r}},{key:"cut",value:function(r,e){void 0!==e&&(r=r.bind(e));var n=[new c,new c],o=!0,i=!1,a=void 0;try{for(var u,l=this[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var f=t(u.value,2),y=f[0],s=f[1];r(s,y,this)?n[0].set(y,s):n[1].set(y,s)}}catch(r){i=!0,a=r}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n}},{key:"equals",value:function(r){return!!r&&(this===r||this.size===r.size&&void 0)}},{key:"sort",value:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(r,t){return+(r>t)||+(r===t)-1};return new c(e(this.entries()).sort(function(t,e){return r(t[1],e[1],t[0],e[0])}))}}])&&o(s.prototype,h),v&&o(s,v),c}()});
